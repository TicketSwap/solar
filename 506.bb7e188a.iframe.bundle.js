"use strict";(self.webpackChunk_ticketswap_solar=self.webpackChunk_ticketswap_solar||[]).push([[506],{"./src/components/Select/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{P:()=>Select,W:()=>SelectItemType});var emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),react=__webpack_require__("./node_modules/react/index.js"),dist=__webpack_require__("./node_modules/compute-scroll-into-view/dist/index.js"),theme=__webpack_require__("./src/theme/index.ts"),Input=__webpack_require__("./src/components/Input/index.tsx"),VisuallyHidden=__webpack_require__("./src/components/VisuallyHidden/index.tsx"),ArrowDown=__webpack_require__("./src/icons/ArrowDown.tsx"),useDeviceInfo=__webpack_require__("./src/hooks/useDeviceInfo.ts");function useKeyPress(targetKey){const[keyPressed,setKeyPressed]=(0,react.useState)(!1),downHandler=react.useCallback((({key})=>{key===targetKey&&setKeyPressed(!0)}),[targetKey]),upHandler=react.useCallback((({key})=>{key===targetKey&&setKeyPressed(!1)}),[targetKey]);return(0,react.useEffect)((()=>(window.addEventListener("keydown",downHandler),window.addEventListener("keyup",upHandler),()=>{window.removeEventListener("keydown",downHandler),window.removeEventListener("keyup",upHandler)})),[downHandler,upHandler]),keyPressed}var debounce=__webpack_require__("./src/utils/debounce/index.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Container=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ei0unwk6"})({name:"7oj014",styles:"position:relative;.adornment{pointer-events:none;}"});Container.defaultProps={className:"select"};let SelectItemType=function(SelectItemType){return SelectItemType.select="select",SelectItemType.action="action",SelectItemType}({});const StyledInput=(0,emotion_styled_base_browser_esm.Z)(Input.II,{target:"ei0unwk5"})("color:",theme.$_.foreground,";cursor:pointer;&:disabled{cursor:default;}"),LeftAdornment=(0,emotion_styled_base_browser_esm.Z)("span",{target:"ei0unwk4"})("margin-inline-end:",theme.Dh[8],";"),RightAdornment=(0,emotion_styled_base_browser_esm.Z)("span",{target:"ei0unwk3"})("position:absolute;inset-inline-end:",theme.Dh[16],";"),SelectContainer=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ei0unwk2"})({name:"bjn8wh",styles:"position:relative"}),SelectWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"ei0unwk1"})({name:"xrxgda",styles:"position:relative;display:flex;justify-content:flex-start;align-items:center"}),StyledSelect=(0,emotion_styled_base_browser_esm.Z)("select",{target:"ei0unwk0"})("font-family:inherit;background-color:",theme.$_.elevatedBackground,";border-radius:",theme.q0.md,";inline-size:100%;font-size:",theme.JB[18],";line-height:",theme.Nv.solid,";block-size:",theme.Dh[56],";padding-block-start:0;padding-block-end:0;padding-inline-start:",(props=>props.leftAdornment?theme.Dh[48]:theme.Dh[16]),";padding-inline-end:",theme.Dh[16],";color:",theme.$_.foreground,";box-shadow:none;border:0;text-align:start;appearance:none;-webkit-font-smoothing:auto;&:focus,&.focus{outline:none;}"),Select=({items,onChange=()=>{},id,label,leftAdornment,floatingMenu,initialSelectedItem,...props})=>{const{isMobile}=(0,useDeviceInfo.u)(),[isOpen,setIsOpen]=(0,react.useState)(!1),[query,setQuery]=(0,react.useState)(""),[selectedItem,setSelectedItem]=(0,react.useState)(initialSelectedItem||items[0]),[highlightedIndex,setHighlightedIndex]=(0,react.useState)(items.indexOf(initialSelectedItem||items[0])),containerRef=(0,react.useRef)(null),inputRef=(0,react.useRef)(null),menuRef=(0,react.useRef)(null),mobileSelectRef=(0,react.useRef)(null);let itemRefs=[];const labelId=`${id}-label`,menuId=`${id}-menu`,esc=useKeyPress("Escape"),arrowUp=useKeyPress("ArrowUp"),arrowDown=useKeyPress("ArrowDown"),resetQuery=(0,debounce.D)((()=>setQuery("")),1e3);!function useOnClickOutside(ref,handler){(0,react.useEffect)((()=>{const listener=event=>{ref.current&&!ref.current.contains(event.target)&&handler()};return document.addEventListener("mousedown",listener),document.addEventListener("touchstart",listener),()=>{document.removeEventListener("mousedown",listener),document.removeEventListener("touchstart",listener)}}),[ref,handler])}(containerRef,(()=>setIsOpen(!1)));const handleClose=(0,react.useCallback)((()=>{if(!isOpen)return!1;setIsOpen(!1),inputRef.current&&inputRef.current.blur()}),[isOpen,setIsOpen,inputRef]);function setItemRef(el){return itemRefs=[...itemRefs,el]}(0,react.useEffect)((()=>{void 0!==props.selectedItem&&setSelectedItem(props.selectedItem)}),[props.selectedItem]),(0,react.useEffect)((()=>{esc&&handleClose()}),[esc,handleClose]),(0,react.useEffect)((()=>()=>resetQuery.cancel()));const scrollHighlightedItemIntoView=(0,react.useCallback)((()=>{!function scrollIntoView(node,menuNode){if(null===node)return!1;(0,dist.Q)(node,{boundary:menuNode,block:"nearest",scrollMode:"if-needed"}).forEach((({el,top,left})=>{el.scrollTop=top,el.scrollLeft=left}))}(itemRefs[highlightedIndex]||null,menuRef.current)}),[highlightedIndex,itemRefs]);(0,react.useEffect)((()=>{(arrowUp||arrowDown)&&scrollHighlightedItemIntoView()}),[arrowUp,arrowDown,scrollHighlightedItemIntoView]),(0,react.useEffect)((()=>{isOpen&&scrollHighlightedItemIntoView()}),[isOpen,scrollHighlightedItemIntoView]);const menu=isOpen&&(0,jsx_runtime.jsx)(Input.SA,{tabIndex:-1,role:"listbox","aria-labelledby":labelId,children:(0,jsx_runtime.jsx)(Input.Ak,{id:menuId,ref:menuRef,children:items.map(((item,index)=>(0,jsx_runtime.jsxs)(Input.PB,{id:`${id}-item-${item.value}`,role:"option",ref:setItemRef,selected:selectedItem.value===item.value,highlighted:highlightedIndex===index,onMouseMove:()=>setHighlightedIndex(index),onMouseDown:()=>{if(item.type===SelectItemType.action&&item.onClick)return item.onClick();onChange(item),setSelectedItem(item),handleClose()},"aria-selected":selectedItem===item?"true":"false","data-highlighted":highlightedIndex,children:[item.leftAdornment&&(0,jsx_runtime.jsx)(LeftAdornment,{children:item.leftAdornment}),item.name,item.rightAdornment&&(0,jsx_runtime.jsx)(RightAdornment,{children:item.rightAdornment})]},item.value)))})});return isMobile()?(0,jsx_runtime.jsx)(Container,{ref:containerRef,children:(0,jsx_runtime.jsxs)(SelectContainer,{...props,children:[props.hideLabel?(0,jsx_runtime.jsx)(VisuallyHidden.T,{children:(0,jsx_runtime.jsx)(Input.NV,{children:label})}):(0,jsx_runtime.jsx)(Input.__,{htmlFor:id,children:(0,jsx_runtime.jsx)(Input.NV,{children:label})}),(0,jsx_runtime.jsxs)(SelectWrapper,{children:[leftAdornment?(0,jsx_runtime.jsx)(Input.uz,{left:!0,children:leftAdornment}):null,(0,jsx_runtime.jsx)(StyledSelect,{ref:mobileSelectRef,leftAdornment,defaultValue:items.map((item=>item.value)).indexOf(selectedItem.value),id,onChange:e=>{const selected=items.map((item=>item.value)).indexOf(selectedItem.value),item=items[parseInt(e.target.value)];if(item.type===SelectItemType.action&&item.onClick)return mobileSelectRef.current&&(mobileSelectRef.current.selectedIndex=selected),item.onClick();setSelectedItem(item),onChange(item)},children:items.map(((item,index)=>(0,jsx_runtime.jsx)("option",{value:index,children:item.name},item.value)))}),(0,jsx_runtime.jsx)(Input.uz,{right:!0,children:(0,jsx_runtime.jsx)(ArrowDown.K,{size:16})})]}),props.help&&(0,jsx_runtime.jsx)(Input.WW,{children:props.help})]})}):(0,jsx_runtime.jsxs)(Container,{ref:containerRef,children:[(0,jsx_runtime.jsx)(StyledInput,{...props,id,ref:inputRef,label,value:selectedItem.displayName||selectedItem.name,readOnly:!0,labelProps:{id:labelId,htmlFor:id},onFocus:()=>setIsOpen(!0),onBlur:()=>setIsOpen(!1),rightAdornment:(0,jsx_runtime.jsx)(ArrowDown.K,{size:16}),leftAdornment,onKeyDown:e=>{if(!isOpen)return!1;const inputIsALetter=/^[a-z\d]$/i.test(e.key),inputIsArrowUp="ArrowUp"===e.key,inputIsArrowDown="ArrowDown"===e.key,inputIsSpaceOrEnter="Space"===e.key||"Enter"===e.code;if(inputIsALetter){resetQuery();let input=query+e.key;setQuery((prevQuery=>prevQuery+e.key));const index=items.findIndex((item=>item.name.toLowerCase().startsWith(input.toLowerCase())));return scrollHighlightedItemIntoView(),setHighlightedIndex(-1===index?highlightedIndex:index)}if(inputIsArrowUp)return setHighlightedIndex((prev=>0===prev?items.length-1:prev-1));if(inputIsArrowDown)return setHighlightedIndex((prev=>prev!==items.length-1?prev+1:0));if(inputIsSpaceOrEnter){const item=items[highlightedIndex];if(item.type===SelectItemType.action&&item.onClick)return item.onClick(),handleClose();setQuery(""),onChange(items[highlightedIndex]),setSelectedItem(items[highlightedIndex]),handleClose()}},"aria-haspopup":"listbox","aria-labelledby":labelId,"aria-controls":menuId,"aria-activedescendant":`${id}-item-${selectedItem.value}`,menu:!floatingMenu&&menu}),floatingMenu&&menu]})};Select.displayName="Select"},"./src/hooks/useDeviceInfo.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function isServer(){return!("undefined"!=typeof window&&window.document)}function useDeviceInfo(){const userAgent=__webpack_require__.g.navigator&&__webpack_require__.g.navigator.userAgent,isAndroid=()=>!isServer()&&Boolean(userAgent&&userAgent.match(/Android/i)),isIOS=()=>!isServer()&&Boolean(userAgent&&userAgent.match(/iPhone|iPad|iPod/i)),isMobile=()=>!isServer()&&Boolean(isAndroid()||isIOS()||!isServer()&&Boolean(userAgent&&userAgent.match(/Opera Mini/i))||!isServer()&&Boolean(userAgent&&userAgent.match(/IEMobile/i)));return{isMobile,isDesktop:()=>!isServer()&&!isMobile(),isAndroid,isIOS}}__webpack_require__.d(__webpack_exports__,{u:()=>useDeviceInfo})},"./src/icons/ArrowDown.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>ArrowDown});__webpack_require__("./node_modules/react/index.js");var _SvgWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/icons/SvgWrapper.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const ArrowDown=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_SvgWrapper__WEBPACK_IMPORTED_MODULE_2__.t,{a11yTitle:"ArrowDown",...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M18.433 23.947l8.61-9.432A3.294 3.294 0 0 0 24.61 9H7.39a3.294 3.294 0 0 0-2.433 5.515l8.61 9.432a3.294 3.294 0 0 0 4.866 0z"})});ArrowDown.displayName="ArrowDown"},"./src/utils/debounce/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{let timeoutId;__webpack_require__.d(__webpack_exports__,{D:()=>debounce});const debounce=(callback,delay)=>{const trigger=()=>{timeoutId&&clearTimeout(timeoutId),timeoutId=setTimeout(callback,delay)};return trigger.cancel=()=>{void 0!==timeoutId&&clearTimeout(timeoutId)},trigger}},"./node_modules/compute-scroll-into-view/dist/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>l});const t=t=>"object"==typeof t&&null!=t&&1===t.nodeType,e=(t,e)=>(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t,n=(t,n)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const o=getComputedStyle(t,null);return e(o.overflowY,n)||e(o.overflowX,n)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},o=(t,e,n,o,i,l,r,d)=>l<t&&r>e||l>t&&r<e?0:l<=t&&d<=n||r>=e&&d>=n?l-t-o:r>e&&d<n||l<t&&d>n?r-e+i:0,i=t=>{const e=t.parentElement;return null==e?t.getRootNode().host||null:e},l=(e,l)=>{var r,d,s,h;if("undefined"==typeof document)return[];const{scrollMode:c,block:f,inline:u,boundary:a,skipOverflowHiddenElements:g}=l,m="function"==typeof a?a:t=>t!==a;if(!t(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,w=[];let W=e;for(;t(W)&&m(W);){if(W=i(W),W===p){w.push(W);break}null!=W&&W===document.body&&n(W)&&!n(document.documentElement)||null!=W&&n(W,g)&&w.push(W)}const H=null!=(d=null==(r=window.visualViewport)?void 0:r.width)?d:innerWidth,b=null!=(h=null==(s=window.visualViewport)?void 0:s.height)?h:innerHeight,{scrollX:v,scrollY:y}=window,{height:E,width:M,top:x,right:I,bottom:C,left:R}=e.getBoundingClientRect();let T="start"===f||"nearest"===f?x:"end"===f?C:x+E/2,V="center"===u?R+M/2:"end"===u?I:R;const k=[];for(let t=0;t<w.length;t++){const e=w[t],{height:n,width:i,top:l,right:r,bottom:d,left:s}=e.getBoundingClientRect();if("if-needed"===c&&x>=0&&R>=0&&C<=b&&I<=H&&x>=l&&C<=d&&R>=s&&I<=r)return k;const h=getComputedStyle(e),a=parseInt(h.borderLeftWidth,10),g=parseInt(h.borderTopWidth,10),m=parseInt(h.borderRightWidth,10),W=parseInt(h.borderBottomWidth,10);let B=0,D=0;const L="offsetWidth"in e?e.offsetWidth-e.clientWidth-a-m:0,S="offsetHeight"in e?e.offsetHeight-e.clientHeight-g-W:0,X="offsetWidth"in e?0===e.offsetWidth?0:i/e.offsetWidth:0,Y="offsetHeight"in e?0===e.offsetHeight?0:n/e.offsetHeight:0;if(p===e)B="start"===f?T:"end"===f?T-b:"nearest"===f?o(y,y+b,b,g,W,y+T,y+T+E,E):T-b/2,D="start"===u?V:"center"===u?V-H/2:"end"===u?V-H:o(v,v+H,H,a,m,v+V,v+V+M,M),B=Math.max(0,B+y),D=Math.max(0,D+v);else{B="start"===f?T-l-g:"end"===f?T-d+W+S:"nearest"===f?o(l,d,n,g,W+S,T,T+E,E):T-(l+n/2)+S/2,D="start"===u?V-s-a:"center"===u?V-(s+i/2)+L/2:"end"===u?V-r+m+L:o(s,r,i,a,m+L,V,V+M,M);const{scrollLeft:t,scrollTop:h}=e;B=Math.max(0,Math.min(h+B/Y,e.scrollHeight-n/Y+S)),D=Math.max(0,Math.min(t+D/X,e.scrollWidth-i/X+L)),T+=h-B,V+=t-D}k.push({el:e,top:B,left:D})}return k}}}]);