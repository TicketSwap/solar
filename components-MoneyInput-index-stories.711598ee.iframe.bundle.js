"use strict";(self.webpackChunk_ticketswap_solar=self.webpackChunk_ticketswap_solar||[]).push([[6479],{"./node_modules/@reach/auto-id/dist/reach-auto-id.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>useId});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js"),serverHandoffComplete=!1,id=0;function genId(){return++id}function useId(providedId){var _ref;if("function"==typeof react__WEBPACK_IMPORTED_MODULE_0__.useId){var _id=(0,react__WEBPACK_IMPORTED_MODULE_0__.useId)(providedId);return null!=providedId?providedId:_id}var initialId=null!=providedId?providedId:serverHandoffComplete?genId():null,_React$useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialId),id=_React$useState[0],setId=_React$useState[1];return(0,_reach_utils_use_isomorphic_layout_effect__WEBPACK_IMPORTED_MODULE_1__.L)((function(){null===id&&setId(genId())}),[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){!1===serverHandoffComplete&&(serverHandoffComplete=!0)}),[]),null!=(_ref=null!=providedId?providedId:id)?_ref:void 0}},"./node_modules/@reach/utils/can-use-dom/dist/reach-utils-can-use-dom.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function canUseDOM(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}__webpack_require__.d(__webpack_exports__,{N:()=>canUseDOM})},"./node_modules/@reach/utils/use-isomorphic-layout-effect/dist/reach-utils-use-isomorphic-layout-effect.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>useIsomorphicLayoutEffect});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),useIsomorphicLayoutEffect=(0,__webpack_require__("./node_modules/@reach/utils/can-use-dom/dist/reach-utils-can-use-dom.esm.js").N)()?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect},"./src/components/MoneyInput/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,BasicForm:()=>BasicForm,Controlled:()=>Controlled,WithDisabled:()=>WithDisabled,WithError:()=>WithError,WithInitialValues:()=>WithInitialValues,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var react=__webpack_require__("./node_modules/react/index.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),theme=__webpack_require__("./src/theme/index.ts"),Input=__webpack_require__("./src/components/Input/index.tsx"),ArrowDown=__webpack_require__("./src/icons/ArrowDown.tsx"),VisuallyHidden=__webpack_require__("./src/components/VisuallyHidden/index.tsx"),Select=__webpack_require__("./src/components/Select/index.tsx"),useDeviceInfo=__webpack_require__("./src/hooks/useDeviceInfo.ts"),reach_auto_id_esm=__webpack_require__("./node_modules/@reach/auto-id/dist/reach-auto-id.esm.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const InputGroup=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e12tmc9f3"})({name:"rslb9v",styles:"position:relative;display:flex;flex-direction:row"}),InputWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e12tmc9f2"})({name:"70m7ls",styles:"inline-size:100%;flex-grow:1;flex-shrink:1"}),SelectWrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e12tmc9f1"})("padding-inline-end:",theme.Dh[8],";flex-grow:0;flex-shrink:0;flex-basis:","7rem",";.select{position:initial;}"),FauxSelectWrapper=(0,emotion_styled_base_browser_esm.Z)("span",{target:"e12tmc9f0"})("display:block;pointer-events:none;position:absolute;inset-inline-start:0;inset-block-start:0;inline-size:","7rem",";padding-inline-end:",theme.Dh[8],";");const parseAmount=value=>"number"==typeof value?Math.round(100*value)||0:Math.round(100*parseFloat(value))||0,MoneyInput=({id,label,hideLabel,currencies,onChange=()=>{},help,validateAmount,validateCurrency,disabled=!1,...props})=>{const isAmountControlled=void 0!==props.amount,selectedCurrency=props.currency||props.initialSelectedCurrency,initialSelectedIndex=selectedCurrency?currencies.indexOf(selectedCurrency):0,initialValue=props.initialAmount?props.initialAmount/100:0,[amount,setAmount]=react.useState(props.initialAmount?Number.isInteger(initialValue)?initialValue:initialValue.toFixed(2):""),[currency,setCurrency]=react.useState(currencies[initialSelectedIndex]),options=function createSelectOptions(currencies){return currencies.map((({code,symbol,name})=>({value:code,name,displayName:symbol})))}(currencies),inputRef=react.useRef(null),{isMobile}=(0,useDeviceInfo.u)(),inputId=`money-input-${(0,reach_auto_id_esm.M)()}`;return(0,jsx_runtime.jsxs)(Input.__,{htmlFor:id,children:[hideLabel?(0,jsx_runtime.jsx)(VisuallyHidden.T,{children:(0,jsx_runtime.jsx)(Input.NV,{children:label})}):(0,jsx_runtime.jsx)(Input.NV,{children:label}),(0,jsx_runtime.jsxs)(InputGroup,{id,children:[(0,jsx_runtime.jsxs)(SelectWrapper,{children:[(0,jsx_runtime.jsx)(Select.P,{items:options,id:`${inputId}-currency`,label:"Currency",hideLabel:!0,disabled,floatingMenu:!0,validate:validateCurrency,selectedItem:void 0===props.currency?options.filter((option=>void 0!==props.currency&&option.value===props.currency.code))[0]:void 0,initialSelectedItem:options[initialSelectedIndex],onChange:e=>{const selectedCurrency=currencies.filter((c=>c.code===e.value))[0];return setCurrency(selectedCurrency),onChange({currency:selectedCurrency,amount:props.amount?props.amount:parseAmount(amount)}),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((()=>{if(inputRef.current)return inputRef.current.focus()}))}}),isMobile()&&(0,jsx_runtime.jsx)(FauxSelectWrapper,{children:(0,jsx_runtime.jsx)(Input.II,{id:`${inputId}-faux-currency`,label:"Currency",hideLabel:!0,disabled,value:props.currency?props.currency.symbol:currency.symbol,rightAdornment:(0,jsx_runtime.jsx)(ArrowDown.K,{size:16})})})]}),(0,jsx_runtime.jsx)(InputWrapper,{children:(0,jsx_runtime.jsx)(Input.II,{id:`${inputId}-amount`,label:"Amount",ref:inputRef,hideLabel:!0,type:"number",step:"0.01",value:isAmountControlled?props.amount:amount,disabled,validate:validateAmount,...props,onChange:event=>{setAmount(event.target.value),onChange({currency,amount:isAmountControlled?event.target.value:parseAmount(event.target.value)})}})})]}),help&&(0,jsx_runtime.jsx)(Input.WW,{children:help})]})};MoneyInput.displayName="MoneyInput";var Button=__webpack_require__("./src/components/Button/index.tsx");const currencies=[{code:"EUR",symbol:"€",name:"Euro"},{code:"DKK",symbol:"DKK",name:"Danish Krone"},{code:"GBP",symbol:"£",name:"British Pound"},{code:"HUF",symbol:"HUF",name:"Hungarian Forint"},{code:"PLN",symbol:"PLN",name:"Polish Zloty"},{code:"SEK",symbol:"SEK",name:"Swedish Krona"},{code:"USD",symbol:"$",name:"US Dollar"},{code:"CAD",symbol:"CA$",name:"Canadian Dollar"},{code:"AUD",symbol:"A$",name:"Australian Dollar"},{code:"NZD",symbol:"NZ$",name:"New Zealand Dollar"},{code:"CHF",symbol:"CHF",name:"Swiss Franc"},{code:"NOK",symbol:"NOK",name:"Norwegian Krone"}];function ControlledMoneyInput(){const[currency,setCurrency]=react.useState(currencies[2]),[amount,setAmount]=react.useState(25);return react.useEffect((()=>{console.log({currency,amount:parseAmount(amount)})}),[currency,amount]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("div",{style:{display:"grid",gridGap:"0.5rem",gridAutoFlow:"column",marginBottom:"0.25rem"},children:[(0,jsx_runtime.jsx)(Button.zx,{size:Button.qE.medium,onClick:()=>setCurrency(currencies[0]),children:"Set Euro"}),(0,jsx_runtime.jsx)(Button.zx,{size:Button.qE.medium,onClick:()=>setCurrency(currencies[2]),children:"Set Pounds"}),(0,jsx_runtime.jsx)(Button.zx,{size:Button.qE.medium,variant:Button.Wu.success,onClick:()=>setAmount(20),children:"Set 20"}),(0,jsx_runtime.jsx)(Button.zx,{size:Button.qE.medium,variant:Button.Wu.success,onClick:()=>setAmount("40.50"),children:"Set 40,50"})]}),(0,jsx_runtime.jsx)(MoneyInput,{id:"maximum-price",label:"Maximum price",currencies,onChange:value=>{setCurrency(value.currency),setAmount(value.amount)},currency,amount,help:"Leave blank for no maximum price"})]})}const index_stories={title:"Components/Inputs/MoneyInput"},Basic=()=>(0,jsx_runtime.jsx)(MoneyInput,{id:"maximum-price",label:"Maximum price",currencies,onChange:e=>console.log(e)});Basic.displayName="Basic";const BasicForm=()=>(0,jsx_runtime.jsxs)("form",{children:[(0,jsx_runtime.jsx)(MoneyInput,{id:"maximum-price",label:"Maximum price",currencies,onChange:e=>console.log(e)}),(0,jsx_runtime.jsx)("button",{type:"submit",children:"Save"})]});BasicForm.displayName="BasicForm",BasicForm.storyName="With form";const WithInitialValues=()=>(0,jsx_runtime.jsx)(MoneyInput,{id:"maximum-price",label:"Maximum price",currencies,onChange:e=>console.log(e),initialSelectedCurrency:currencies[2],initialAmount:240050,help:"Leave blank for no maximum price"});WithInitialValues.displayName="WithInitialValues",WithInitialValues.storyName="With initial values";const WithDisabled=()=>(0,jsx_runtime.jsx)(MoneyInput,{id:"maximum-price",label:"Maximum price",currencies,onChange:e=>console.log(e),initialSelectedCurrency:currencies[2],initialAmount:240050,help:"Leave blank for no maximum price",disabled:!0});WithDisabled.displayName="WithDisabled",WithDisabled.storyName="Disabled";const Controlled=()=>(0,jsx_runtime.jsx)(ControlledMoneyInput,{});Controlled.displayName="Controlled";const WithError=()=>(0,jsx_runtime.jsx)(MoneyInput,{id:"maximum-price",label:"Maximum price",currencies,onChange:e=>console.log(e),initialSelectedCurrency:currencies[2],initialAmount:2500,help:"Leave blank for no maximum price",validateAmount:!1,validateCurrency:!1});WithError.displayName="WithError",WithError.storyName="With error",Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:'() => <MoneyInput id="maximum-price" label="Maximum price" currencies={currencies} onChange={e => console.log(e)} />',...Basic.parameters?.docs?.source}}},BasicForm.parameters={...BasicForm.parameters,docs:{...BasicForm.parameters?.docs,source:{originalSource:'() => <form>\n    <MoneyInput id="maximum-price" label="Maximum price" currencies={currencies} onChange={e => console.log(e)} />\n    <button type="submit">Save</button>\n  </form>',...BasicForm.parameters?.docs?.source}}},WithInitialValues.parameters={...WithInitialValues.parameters,docs:{...WithInitialValues.parameters?.docs,source:{originalSource:'() => <MoneyInput id="maximum-price" label="Maximum price" currencies={currencies} onChange={e => console.log(e)} initialSelectedCurrency={currencies[2]} initialAmount={240050} help="Leave blank for no maximum price" />',...WithInitialValues.parameters?.docs?.source}}},WithDisabled.parameters={...WithDisabled.parameters,docs:{...WithDisabled.parameters?.docs,source:{originalSource:'() => <MoneyInput id="maximum-price" label="Maximum price" currencies={currencies} onChange={e => console.log(e)} initialSelectedCurrency={currencies[2]} initialAmount={240050} help="Leave blank for no maximum price" disabled={true} />',...WithDisabled.parameters?.docs?.source}}},Controlled.parameters={...Controlled.parameters,docs:{...Controlled.parameters?.docs,source:{originalSource:"() => <ControlledMoneyInput />",...Controlled.parameters?.docs?.source}}},WithError.parameters={...WithError.parameters,docs:{...WithError.parameters?.docs,source:{originalSource:'() => <MoneyInput id="maximum-price" label="Maximum price" currencies={currencies} onChange={e => console.log(e)} initialSelectedCurrency={currencies[2]} initialAmount={2500} help="Leave blank for no maximum price" validateAmount={false} validateCurrency={false} />',...WithError.parameters?.docs?.source}}};const __namedExportsOrder=["Basic","BasicForm","WithInitialValues","WithDisabled","Controlled","WithError"]}}]);