"use strict";(self.webpackChunk_ticketswap_solar=self.webpackChunk_ticketswap_solar||[]).push([[2955],{"./src/components/ComboboxV2/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,Controlled:()=>Controlled,Uncontrolled:()=>Uncontrolled,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var react=__webpack_require__("./node_modules/react/index.js"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),Listbox=__webpack_require__("./src/components/SelectV2/Listbox.tsx"),MagnifyingGlass=__webpack_require__("./src/icons/MagnifyingGlass.tsx"),CloseRounded=__webpack_require__("./src/icons/CloseRounded.tsx"),theme=__webpack_require__("./src/theme/index.ts"),normalizeChars=__webpack_require__("./src/utils/normalizeChars/index.ts"),dist=__webpack_require__("./node_modules/scroll-into-view-if-needed/dist/index.js"),InputWithLabel=__webpack_require__("./src/components/InputV2/InputWithLabel.tsx"),Label=__webpack_require__("./src/components/Label/Label.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const Container=(0,emotion_styled_base_browser_esm.Z)("fieldset",{target:"e1a55fb82"})("display:grid;gap:",theme.Dh[4],";"),Wrapper=(0,emotion_styled_base_browser_esm.Z)("div",{target:"e1a55fb81"})({name:"bjn8wh",styles:"position:relative"}),ClearButton=(0,emotion_styled_base_browser_esm.Z)("button",{target:"e1a55fb80"})({name:"11aedus",styles:"line-height:1;border-radius:50%;opacity:0.8;&:hover{opacity:1;}"}),Combobox=({id,options,value:controlledValue,onChange,onBlur,defaultValue,label,"aria-label":ariaLabel,...props})=>{const[open,setOpen]=(0,react.useState)(!1),[uncontrolledValue,setUncontrolledValue]=(0,react.useState)(defaultValue||""),value=void 0!==controlledValue?controlledValue:uncontrolledValue,containerRef=(0,react.useRef)(null),listboxRef=(0,react.useRef)(null),clearButtonRef=(0,react.useRef)(null),currentOption=options.find((option=>option.value===value)),[query,setQuery]=(0,react.useState)(currentOption?.label||""),[focussed,setFocussed]=(0,react.useState)(-1),currentValue=open?query:currentOption?.label,filteredOptions=value?options.filter((option=>(0,normalizeChars.Z)(option.label.toLowerCase()).includes((0,normalizeChars.Z)(query.toLowerCase())))):options;return(0,jsx_runtime.jsxs)(Container,{ref:containerRef,children:[label&&(0,jsx_runtime.jsx)(Label._,{htmlFor:id,children:label}),(0,jsx_runtime.jsxs)(Wrapper,{children:[(0,jsx_runtime.jsx)(InputWithLabel.s,{"aria-label":ariaLabel||label,type:"text",id,role:"combobox",autoComplete:"off",onChange:event=>{setQuery(event.target.value),setFocussed(0)},onBlur:event=>{const listbox=listboxRef.current,clearButton=clearButtonRef.current,container=containerRef.current;onBlur?.(event),setTimeout((()=>{if(document.activeElement===clearButton)return container.querySelector("input")?.focus();document.activeElement!==listbox&&(setQuery(currentOption?.label||""),setOpen(!1))}),10)},onFocus:()=>{setOpen(!0)},onKeyDown:event=>{const listbox=listboxRef.current;if("ArrowDown"===event.key&&(event.preventDefault(),setFocussed(0),(0,dist.Z)(listbox.children[0],{boundary:listbox,scrollMode:"always",block:"nearest"}),listboxRef.current?.focus()),null!==focussed&&"Enter"===event.key){const activeOption=listbox.querySelector("[data-focussed=true]");if(activeOption){const{value,label}=options.find((option=>option.value===activeOption.dataset.value));setUncontrolledValue(value),onChange?.(event,value),setQuery(label),event.stopPropagation()}}},value:currentValue,startAdornment:(0,jsx_runtime.jsx)(MagnifyingGlass.Y,{size:24}),endAdornment:query&&open&&(0,jsx_runtime.jsx)(ClearButton,{ref:clearButtonRef,tabIndex:-1,onClick:()=>{setQuery("")},children:(0,jsx_runtime.jsx)(CloseRounded.Q,{size:24,color:theme.$_.foregroundSubtle})}),"aria-autocomplete":"list","aria-haspopup":"listbox","aria-expanded":open,"aria-controls":"popup_listbox","aria-activedescendant":String(focussed),...props}),(0,jsx_runtime.jsx)(Listbox.R,{ref:listboxRef,options:filteredOptions,variant:"default",focussed,open,selected:value,"aria-label":"Listbox",onBlur:event=>{setOpen(!1),onBlur?.(event)},onHover:index=>setFocussed(index),onKeyDown:event=>{const listbox=listboxRef.current,container=containerRef.current;if(/^[a-z\d]$/i.test(event.key))return event.stopPropagation(),container.querySelector("input")?.focus();if("ArrowDown"===event.key&&(event.preventDefault(),setFocussed((focussed=>{const f=focussed===filteredOptions.length-1?focussed:focussed+1;return(0,dist.Z)(listbox.children[f],{boundary:listbox,scrollMode:"always",block:"nearest"}),f}))),"ArrowUp"===event.key&&(event.preventDefault(),setFocussed((focussed=>{const f=Math.max(0,focussed-1);return(0,dist.Z)(listbox.children[f],{boundary:listbox,scrollMode:"always",block:"nearest"}),f}))),"Enter"===event.key){let target=event.target;"option"!==target.getAttribute("role")&&(target=document.getElementById(target.getAttribute("aria-activedescendant")));const{value,label}=options.find((option=>option.value===target.dataset.value));setUncontrolledValue(value),onChange?.(event,value),setQuery(label),container.querySelector("input")?.focus(),event.stopPropagation()}},onClick:event=>{let target=event.target;"option"!==target.getAttribute("role")&&(target=document.getElementById(target.getAttribute("aria-activedescendant")));const{value,label}=options.find((option=>option.value===target.dataset.value));setUncontrolledValue(value),onChange?.(event,value),setQuery(label),setOpen(!1),event.stopPropagation()}})]})]})};Combobox.displayName="Combobox";var Flag=__webpack_require__("./src/components/Flag/index.tsx");const index_stories={title:"Components/Inputs/ComboboxV2"},countries=[{id:"nl",value:"nl",label:"Netherlands",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"nl"})},{id:"at",value:"at",label:"Austria",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"at"})},{id:"de",value:"de",label:"Germany",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"de"})},{id:"it",value:"it",label:"Italy",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"it"})},{id:"be",value:"be",label:"Belgium",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"be"})},{id:"au",value:"au",label:"Australia",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"au"})},{id:"us",value:"us",label:"United States",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"us"})},{id:"gb",value:"gb",label:"United Kingdom",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"gb"})},{id:"es",value:"es",label:"Spain",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"es"})},{id:"br",value:"br",label:"Brazil",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"br"})},{id:"fr",value:"fr",label:"France",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"fr"})},{id:"ch",value:"ch",label:"Switzerland",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"ch"})},{id:"hu",value:"hu",label:"Hungary",startAdornment:(0,jsx_runtime.jsx)(Flag.W,{countryCode:"hu"})}],Basic=()=>{const[country,setCountry]=(0,react.useState)("de");return(0,jsx_runtime.jsx)(Combobox,{id:"country",label:"Country",options:countries,value:country,onChange:(_,value)=>setCountry(value)})};Basic.displayName="Basic";const Controlled=()=>{const[country,setCountry]=(0,react.useState)("de");return(0,jsx_runtime.jsx)(Combobox,{id:"country","aria-label":"Country",options:countries,value:country,onChange:(_,value)=>setCountry(value)})};Controlled.displayName="Controlled";const Uncontrolled=()=>(0,jsx_runtime.jsx)(Combobox,{id:"country","aria-label":"Country",options:countries,defaultValue:"nl",onChange:console.log});Uncontrolled.displayName="Uncontrolled",Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:'() => {\n  const [country, setCountry] = useState(\'de\');\n  return <Combobox id="country" label="Country" options={countries} value={country} onChange={(_, value) => setCountry(value)} />;\n}',...Basic.parameters?.docs?.source}}},Controlled.parameters={...Controlled.parameters,docs:{...Controlled.parameters?.docs,source:{originalSource:'() => {\n  const [country, setCountry] = useState(\'de\');\n  return <Combobox id="country" aria-label="Country" options={countries} value={country} onChange={(_, value) => setCountry(value)} />;\n}',...Controlled.parameters?.docs?.source}}},Uncontrolled.parameters={...Uncontrolled.parameters,docs:{...Uncontrolled.parameters?.docs,source:{originalSource:'() => <Combobox id="country" aria-label="Country" options={countries} defaultValue="nl" onChange={console.log} />',...Uncontrolled.parameters?.docs?.source}}};const __namedExportsOrder=["Basic","Controlled","Uncontrolled"]},"./src/components/Flag/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>Flag});var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),_theme__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/theme/index.ts")),_Image__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Image/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");const StyledImage=(0,_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__.Z)(_Image__WEBPACK_IMPORTED_MODULE_3__.E,{target:"e15drhe00"})("position:relative;display:inline-block;vertical-align:middle;background-color:",_theme__WEBPACK_IMPORTED_MODULE_4__.$_.elevatedBackground,";border-radius:2px;overflow:hidden;inline-size:21px;block-size:15px;min-inline-size:21px;min-block-size:15px;&::after{content:'';position:absolute;inset:0;opacity:0.6;box-shadow:0 0 0 1px ",_theme__WEBPACK_IMPORTED_MODULE_4__.$_.strokeStrong," inset;}"),Flag=({countryCode})=>{const country=countryCode.toUpperCase();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StyledImage,{src:`https://unpkg.com/flagkit-web@0.0.3/svgs/${country}.svg`,alt:`Flag of ${country}`})};Flag.displayName="Flag"},"./src/icons/CloseRounded.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Q:()=>CloseRounded});__webpack_require__("./node_modules/react/index.js");var _SvgWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/icons/SvgWrapper.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const CloseRounded=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_SvgWrapper__WEBPACK_IMPORTED_MODULE_2__.t,{a11yTitle:"CloseRounded",...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M22.361 19.586a2.011 2.011 0 0 1 0 2.828 1.967 1.967 0 0 1-2.804 0L16 18.828l-3.556 3.586a1.967 1.967 0 0 1-2.805 0 2.011 2.011 0 0 1 0-2.828L13.196 16l-3.557-3.586a2.011 2.011 0 0 1 0-2.828 1.972 1.972 0 0 1 2.805 0L16 13.172l3.557-3.586a1.972 1.972 0 0 1 2.804 0 2.011 2.011 0 0 1 0 2.828L18.805 16l3.556 3.586zm6.216-9.622C25.904 4.654 20.952 2 16 2S6.097 4.655 3.424 9.964a13.51 13.51 0 0 0 0 12.073C6.097 27.346 11.048 30 16 30c4.952 0 9.904-2.655 12.577-7.964a13.508 13.508 0 0 0 0-12.072z"})});CloseRounded.displayName="CloseRounded"},"./src/icons/MagnifyingGlass.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>MagnifyingGlass});__webpack_require__("./node_modules/react/index.js");var _SvgWrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/icons/SvgWrapper.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const MagnifyingGlass=props=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_SvgWrapper__WEBPACK_IMPORTED_MODULE_2__.t,{a11yTitle:"MagnifyingGlass",...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("path",{d:"M24.064 21.235l3.35 3.35a2 2 0 0 1-2.828 2.83l-3.35-3.351A10.95 10.95 0 0 1 15 26C8.924 26 4 21.076 4 15S8.924 4 15 4s11 4.924 11 11a10.95 10.95 0 0 1-1.936 6.235zM22 15a7 7 0 0 0-7-7 7 7 0 0 0-7 7 7 7 0 0 0 7 7 7 7 0 0 0 7-7z"})});MagnifyingGlass.displayName="MagnifyingGlass"},"./src/utils/normalizeChars/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function normalizeChars(value){return value.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}__webpack_require__.d(__webpack_exports__,{Z:()=>normalizeChars})}}]);